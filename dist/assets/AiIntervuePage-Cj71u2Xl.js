var Ft=Object.defineProperty;var ht=m=>{throw TypeError(m)};var Mt=(m,n,c)=>n in m?Ft(m,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[n]=c;var oe=(m,n,c)=>Mt(m,typeof n!="symbol"?n+"":n,c),vt=(m,n,c)=>n.has(m)||ht("Cannot "+c);var M=(m,n,c)=>(vt(m,n,"read from private field"),c?c.call(m):n.get(m)),Ce=(m,n,c)=>n.has(m)?ht("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(m):n.set(m,c),We=(m,n,c,E)=>(vt(m,n,"write to private field"),E?E.call(m,c):n.set(m,c),c);import{k as rt,J as Bt,f as Fe,e as Te,g as ze,h as qe,o as yt,d as Vt,K as Pt,M as Ot,i as Wt,j as f,D as z,C as zt,N as Je,O as xe,u as qt,r as _,P as be,S as Ke,T as ne,Q as Be,U as Gt,a as Ze,c as et,l as Ht,V as $t,W as Qt,X as Yt,Y as Xt}from"./index-DbbjP9G_.js";import{u as Kt,I as Jt,a as Zt}from"./chunk-6CVSDS6C-BtXcUb6Q.js";import{G as xt}from"./chunk-JARCRF6W-DKIWNV3f.js";import{u as Rt}from"./chunk-6RSEZNRH-BA_4GoP0.js";import"./chunk-56K2BSAJ-CA24om2I.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=rt("Mouse",[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=rt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=rt("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var[ir,or]=Bt("Card"),Nt=Fe(function(n,c){const{className:E,...N}=n,I=or();return Te.jsx(ze.div,{ref:c,className:qe("chakra-card__body",E),__css:I.body,...N})}),Dt=Fe(function(n,c){const{className:E,children:N,direction:I="column",justify:B,align:q,...U}=yt(n),H=Vt("Card",n);return Te.jsx(ze.div,{ref:c,className:qe("chakra-card",E),__css:{display:"flex",flexDirection:I,justifyContent:B,alignItems:q,position:"relative",minWidth:0,wordWrap:"break-word",...H.container},...U,children:Te.jsx(ir,{value:H,children:N})})}),ar=ze("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),nt=Fe(function(n,c){var E,N;const{placement:I="left",...B}=n,q=Kt(),U=q.field,O={[I==="left"?"insetStart":"insetEnd"]:"0",width:(E=U==null?void 0:U.height)!=null?E:U==null?void 0:U.h,height:(N=U==null?void 0:U.height)!=null?N:U==null?void 0:U.h,fontSize:U==null?void 0:U.fontSize,...q.element};return Te.jsx(ar,{ref:c,__css:O,...B})});nt.id="InputElement";nt.displayName="InputElement";var ft=Fe(function(n,c){const{className:E,...N}=n,I=qe("chakra-input__left-element",E);return Te.jsx(nt,{ref:c,placement:"left",className:I,...N})});ft.id="InputLeftElement";ft.displayName="InputLeftElement";var St=Fe(function(n,c){const{className:E,...N}=n,I=qe("chakra-input__right-element",E);return Te.jsx(nt,{ref:c,placement:"right",className:I,...N})});St.id="InputRightElement";St.displayName="InputRightElement";function gt(m){return Ot(m,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}var lt=Fe(function(n,c){const{area:E,colSpan:N,colStart:I,colEnd:B,rowEnd:q,rowSpan:U,rowStart:H,...O}=n,Q=Pt({gridArea:E,gridColumn:gt(N),gridRow:gt(U),gridColumnStart:I,gridColumnEnd:B,gridRowStart:H,gridRowEnd:q});return Te.jsx(ze.div,{ref:c,__css:Q,...O})});lt.displayName="GridItem";var Et=Fe(function(n,c){const E=Wt("Badge",n),{className:N,...I}=yt(n);return Te.jsx(ze.span,{ref:c,className:qe("chakra-badge",n.className),...I,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...E}})});Et.displayName="Badge";const sr="/assets/1_Practice_answering-Dn2Wr6rn.mp4",kt=({value:m,setValue:n,className:c})=>f.jsxDEV(Jt,{className:c,children:[f.jsxDEV(ft,{children:f.jsxDEV(tr,{},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/SearchBox.jsx",lineNumber:8,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/SearchBox.jsx",lineNumber:7,columnNumber:13},void 0),f.jsxDEV(Zt,{size:"xl",type:"text",placeholder:"Type to search",value:m,onChange:E=>n(E.target.value)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/SearchBox.jsx",lineNumber:10,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/SearchBox.jsx",lineNumber:6,columnNumber:9},void 0);var W;(function(m){m.LOAD="LOAD",m.EXEC="EXEC",m.WRITE_FILE="WRITE_FILE",m.READ_FILE="READ_FILE",m.DELETE_FILE="DELETE_FILE",m.RENAME="RENAME",m.CREATE_DIR="CREATE_DIR",m.LIST_DIR="LIST_DIR",m.DELETE_DIR="DELETE_DIR",m.ERROR="ERROR",m.DOWNLOAD="DOWNLOAD",m.PROGRESS="PROGRESS",m.LOG="LOG",m.MOUNT="MOUNT",m.UNMOUNT="UNMOUNT"})(W||(W={}));const ur=(()=>{let m=0;return()=>m++})(),dr=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),fr=new Error("called FFmpeg.terminate()");var de,je,Ee,Ae,Le,tt,ae;class lr{constructor(){Ce(this,de,null);Ce(this,je,{});Ce(this,Ee,{});Ce(this,Ae,[]);Ce(this,Le,[]);oe(this,"loaded",!1);Ce(this,tt,()=>{M(this,de)&&(M(this,de).onmessage=({data:{id:n,type:c,data:E}})=>{switch(c){case W.LOAD:this.loaded=!0,M(this,je)[n](E);break;case W.MOUNT:case W.UNMOUNT:case W.EXEC:case W.WRITE_FILE:case W.READ_FILE:case W.DELETE_FILE:case W.RENAME:case W.CREATE_DIR:case W.LIST_DIR:case W.DELETE_DIR:M(this,je)[n](E);break;case W.LOG:M(this,Ae).forEach(N=>N(E));break;case W.PROGRESS:M(this,Le).forEach(N=>N(E));break;case W.ERROR:M(this,Ee)[n](E);break}delete M(this,je)[n],delete M(this,Ee)[n]})});Ce(this,ae,({type:n,data:c},E=[],N)=>M(this,de)?new Promise((I,B)=>{const q=ur();M(this,de)&&M(this,de).postMessage({id:q,type:n,data:c},E),M(this,je)[q]=I,M(this,Ee)[q]=B,N==null||N.addEventListener("abort",()=>{B(new DOMException(`Message # ${q} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(dr));oe(this,"load",({classWorkerURL:n,...c}={},{signal:E}={})=>(M(this,de)||(We(this,de,n?new Worker(new URL(n,import.meta.url),{type:"module"}):new Worker(new URL("/assets/worker-lPYB70QI.js",import.meta.url),{type:"module"})),M(this,tt).call(this)),M(this,ae).call(this,{type:W.LOAD,data:c},void 0,E)));oe(this,"exec",(n,c=-1,{signal:E}={})=>M(this,ae).call(this,{type:W.EXEC,data:{args:n,timeout:c}},void 0,E));oe(this,"terminate",()=>{const n=Object.keys(M(this,Ee));for(const c of n)M(this,Ee)[c](fr),delete M(this,Ee)[c],delete M(this,je)[c];M(this,de)&&(M(this,de).terminate(),We(this,de,null),this.loaded=!1)});oe(this,"writeFile",(n,c,{signal:E}={})=>{const N=[];return c instanceof Uint8Array&&N.push(c.buffer),M(this,ae).call(this,{type:W.WRITE_FILE,data:{path:n,data:c}},N,E)});oe(this,"mount",(n,c,E)=>{const N=[];return M(this,ae).call(this,{type:W.MOUNT,data:{fsType:n,options:c,mountPoint:E}},N)});oe(this,"unmount",n=>{const c=[];return M(this,ae).call(this,{type:W.UNMOUNT,data:{mountPoint:n}},c)});oe(this,"readFile",(n,c="binary",{signal:E}={})=>M(this,ae).call(this,{type:W.READ_FILE,data:{path:n,encoding:c}},void 0,E));oe(this,"deleteFile",(n,{signal:c}={})=>M(this,ae).call(this,{type:W.DELETE_FILE,data:{path:n}},void 0,c));oe(this,"rename",(n,c,{signal:E}={})=>M(this,ae).call(this,{type:W.RENAME,data:{oldPath:n,newPath:c}},void 0,E));oe(this,"createDir",(n,{signal:c}={})=>M(this,ae).call(this,{type:W.CREATE_DIR,data:{path:n}},void 0,c));oe(this,"listDir",(n,{signal:c}={})=>M(this,ae).call(this,{type:W.LIST_DIR,data:{path:n}},void 0,c));oe(this,"deleteDir",(n,{signal:c}={})=>M(this,ae).call(this,{type:W.DELETE_DIR,data:{path:n}},void 0,c))}on(n,c){n==="log"?M(this,Ae).push(c):n==="progress"&&M(this,Le).push(c)}off(n,c){n==="log"?We(this,Ae,M(this,Ae).filter(E=>E!==c)):n==="progress"&&We(this,Le,M(this,Le).filter(E=>E!==c))}}de=new WeakMap,je=new WeakMap,Ee=new WeakMap,Ae=new WeakMap,Le=new WeakMap,tt=new WeakMap,ae=new WeakMap;const cr=new Error("failed to get response body reader"),mr=new Error("failed to complete download"),pr="Content-Length",hr=m=>new Promise((n,c)=>{const E=new FileReader;E.onload=()=>{const{result:N}=E;N instanceof ArrayBuffer?n(new Uint8Array(N)):n(new Uint8Array)},E.onerror=N=>{var I,B;c(Error(`File could not be read! Code=${((B=(I=N==null?void 0:N.target)==null?void 0:I.error)==null?void 0:B.code)||-1}`))},E.readAsArrayBuffer(m)}),vr=async m=>{let n;if(typeof m=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(m)?n=atob(m.split(",")[1]).split("").map(c=>c.charCodeAt(0)):n=await(await fetch(m)).arrayBuffer();else if(m instanceof URL)n=await(await fetch(m)).arrayBuffer();else if(m instanceof File||m instanceof Blob)n=await hr(m);else return new Uint8Array;return new Uint8Array(n)},gr=async(m,n)=>{var N;const c=await fetch(m);let E;try{const I=parseInt(c.headers.get(pr)||"-1"),B=(N=c.body)==null?void 0:N.getReader();if(!B)throw cr;const q=[];let U=0;for(;;){const{done:Q,value:Y}=await B.read(),se=Y?Y.length:0;if(Q){if(I!=-1&&I!==U)throw mr;n&&n({url:m,total:I,received:U,delta:se,done:Q});break}q.push(Y),U+=se,n&&n({url:m,total:I,received:U,delta:se,done:Q})}const H=new Uint8Array(U);let O=0;for(const Q of q)H.set(Q,O),O+=Q.length;E=H.buffer}catch(I){console.log("failed to send download progress event: ",I),E=await c.arrayBuffer()}return E},bt=async(m,n,c=!1,E)=>{const N=c?await gr(m,E):await(await fetch(m)).arrayBuffer(),I=new Blob([N],{type:n});return URL.createObjectURL(I)};var Ct={exports:{}};(function(m){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function n(r,e){if(!r)throw"First parameter is required.";e=e||{type:"video"},e=new c(r,e);var t=this;function s(a){return e.disableLogs||console.log("RecordRTC version: ",t.version),a&&(e=new c(r,a)),e.disableLogs||console.log("started recording "+e.type+" stream."),v?(v.clearRecordedData(),v.record(),R("recording"),t.recordingDuration&&h(),t):(d(function(){t.recordingDuration&&h()}),t)}function d(a){a&&(e.initCallback=function(){a(),a=e.initCallback=null});var x=new E(r,e);v=new x(r,e),v.record(),R("recording"),e.disableLogs||console.log("Initialized recorderType:",v.constructor.name,"for output-type:",e.type)}function u(a){if(a=a||function(){},!v){y();return}if(t.state==="paused"){t.resumeRecording(),setTimeout(function(){u(a)},1);return}t.state!=="recording"&&!e.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',t.state),e.disableLogs||console.log("Stopped recording "+e.type+" stream."),e.type!=="gif"?v.stop(x):(v.stop(),x()),R("stopped");function x(j){if(!v){typeof a.call=="function"?a.call(t,""):a("");return}Object.keys(v).forEach(function(k){typeof v[k]!="function"&&(t[k]=v[k])});var o=v.blob;if(!o)if(j)v.blob=o=j;else throw"Recording failed.";if(o&&!e.disableLogs&&console.log(o.type,"->",pe(o.size)),a){var l;try{l=O.createObjectURL(o)}catch{}typeof a.call=="function"?a.call(t,l):a(l)}e.autoWriteToDisk&&D(function(k){var C={};C[e.type+"Blob"]=k,ue.Store(C)})}}function p(){if(!v){y();return}if(t.state!=="recording"){e.disableLogs||console.warn("Unable to pause the recording. Recording state: ",t.state);return}R("paused"),v.pause(),e.disableLogs||console.log("Paused recording.")}function i(){if(!v){y();return}if(t.state!=="paused"){e.disableLogs||console.warn("Unable to resume the recording. Recording state: ",t.state);return}R("recording"),v.resume(),e.disableLogs||console.log("Resumed recording.")}function b(a){postMessage(new FileReaderSync().readAsDataURL(a))}function D(a,x){if(!a)throw"Pass a callback function over getDataURL.";var j=x?x.blob:(v||{}).blob;if(!j){e.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){D(a,x)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var o=k(b);o.onmessage=function(C){a(C.data)},o.postMessage(j)}else{var l=new FileReader;l.readAsDataURL(j),l.onload=function(C){a(C.target.result)}}function k(C){try{var V=O.createObjectURL(new Blob([C.toString(),"this.onmessage =  function (eee) {"+C.name+"(eee.data);}"],{type:"application/javascript"})),L=new Worker(V);return O.revokeObjectURL(V),L}catch{}}}function h(a){if(a=a||0,t.state==="paused"){setTimeout(function(){h(a)},1e3);return}if(t.state!=="stopped"){if(a>=t.recordingDuration){u(t.onRecordingStopped);return}a+=1e3,setTimeout(function(){h(a)},1e3)}}function R(a){t&&(t.state=a,typeof t.onStateChanged.call=="function"?t.onStateChanged.call(t,a):t.onStateChanged(a))}var g='It seems that recorder is destroyed or "startRecording" is not invoked for '+e.type+" recorder.";function y(){e.disableLogs!==!0&&console.warn(g)}var v,T={startRecording:s,stopRecording:u,pauseRecording:p,resumeRecording:i,initRecorder:d,setRecordingDuration:function(a,x){if(typeof a>"u")throw"recordingDuration is required.";if(typeof a!="number")throw"recordingDuration must be a number.";return t.recordingDuration=a,t.onRecordingStopped=x||function(){},{onRecordingStopped:function(j){t.onRecordingStopped=j}}},clearRecordedData:function(){if(!v){y();return}v.clearRecordedData(),e.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!v){y();return}return v.blob},getDataURL:D,toURL:function(){if(!v){y();return}return O.createObjectURL(v.blob)},getInternalRecorder:function(){return v},save:function(a){if(!v){y();return}it(v.blob,a)},getFromDisk:function(a){if(!v){y();return}n.getFromDisk(e.type,a)},setAdvertisementArray:function(a){e.advertisement=[];for(var x=a.length,j=0;j<x;j++)e.advertisement.push({duration:j,image:a[j]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){t.state==="recording"&&!e.disableLogs&&console.warn("Stop an active recorder."),v&&typeof v.clearRecordedData=="function"&&v.clearRecordedData(),v=null,R("inactive"),t.blob=null},onStateChanged:function(a){e.disableLogs||console.log("Recorder state changed:",a)},state:"inactive",getState:function(){return t.state},destroy:function(){var a=e.disableLogs;e={disableLogs:!0},t.reset(),R("destroyed"),T=t=null,X.AudioContextConstructor&&(X.AudioContextConstructor.close(),X.AudioContextConstructor=null),e.disableLogs=a,e.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return t=T,T;for(var A in T)this[A]=T[A];return t=this,T}n.version="5.6.2",m.exports=n,n.getFromDisk=function(r,e){if(!e)throw"callback is mandatory.";console.log("Getting recorded "+(r==="all"?"blobs":r+" blob ")+" from disk!"),ue.Fetch(function(t,s){r!=="all"&&s===r+"Blob"&&e&&e(t),r==="all"&&e&&e(t,s.replace("Blob",""))})},n.writeToDisk=function(r){console.log("Writing recorded blob(s) to disk!"),r=r||{},r.audio&&r.video&&r.gif?r.audio.getDataURL(function(e){r.video.getDataURL(function(t){r.gif.getDataURL(function(s){ue.Store({audioBlob:e,videoBlob:t,gifBlob:s})})})}):r.audio&&r.video?r.audio.getDataURL(function(e){r.video.getDataURL(function(t){ue.Store({audioBlob:e,videoBlob:t})})}):r.audio&&r.gif?r.audio.getDataURL(function(e){r.gif.getDataURL(function(t){ue.Store({audioBlob:e,gifBlob:t})})}):r.video&&r.gif?r.video.getDataURL(function(e){r.gif.getDataURL(function(t){ue.Store({videoBlob:e,gifBlob:t})})}):r.audio?r.audio.getDataURL(function(e){ue.Store({audioBlob:e})}):r.video?r.video.getDataURL(function(e){ue.Store({videoBlob:e})}):r.gif&&r.gif.getDataURL(function(e){ue.Store({gifBlob:e})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function c(r,e){return!e.recorderType&&!e.type&&(e.audio&&e.video?e.type="video":e.audio&&!e.video&&(e.type="audio")),e.recorderType&&!e.type&&(e.recorderType===_e||e.recorderType===Me||typeof ke<"u"&&e.recorderType===ke?e.type="video":e.recorderType===he?e.type="gif":e.recorderType===ie?e.type="audio":e.recorderType===J&&(G(r,"audio").length&&G(r,"video").length||!G(r,"audio").length&&G(r,"video").length?e.type="video":G(r,"audio").length&&!G(r,"video").length&&(e.type="audio"))),typeof J<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(e.mimeType||(e.mimeType="video/webm"),e.type||(e.type=e.mimeType.split("/")[0]),e.bitsPerSecond),e.type||(e.mimeType&&(e.type=e.mimeType.split("/")[0]),e.type||(e.type="audio")),e}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function E(r,e){var t;return(me||Q||Y)&&(t=ie),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!me&&(t=J),e.type==="video"&&(me||Y)&&(t=_e,typeof ke<"u"&&typeof ReadableStream<"u"&&(t=ke)),e.type==="gif"&&(t=he),e.type==="canvas"&&(t=Me),we()&&t!==Me&&t!==he&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(G(r,"video").length||G(r,"audio").length)&&(e.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(t=J):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(t=J)),r instanceof Array&&r.length&&(t=Pe),e.recorderType&&(t=e.recorderType),!e.disableLogs&&t&&t.name&&console.log("Using recorderType:",t.name||t.constructor.name),!t&&Re&&(t=J),t}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function N(r){this.addStream=function(e){e&&(r=e)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var e=this.mediaType,t,s=this.mimeType||{audio:null,video:null,gif:null};if(typeof e.audio!="function"&&we()&&!G(r,"audio").length&&(e.audio=!1),typeof e.video!="function"&&we()&&!G(r,"video").length&&(e.video=!1),typeof e.gif!="function"&&we()&&!G(r,"video").length&&(e.gif=!1),!e.audio&&!e.video&&!e.gif)throw"MediaStream must have either audio or video tracks.";if(e.audio&&(t=null,typeof e.audio=="function"&&(t=e.audio),this.audioRecorder=new n(r,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:s.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),e.video||this.audioRecorder.startRecording()),e.video){t=null,typeof e.video=="function"&&(t=e.video);var d=r;if(we()&&e.audio&&typeof e.audio=="function"){var u=G(r,"video")[0];se?(d=new K,d.addTrack(u),t&&t===_e&&(t=J)):(d=new K,d.addTrack(u))}this.videoRecorder=new n(d,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:s.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),e.audio||this.videoRecorder.startRecording()}if(e.audio&&e.video){var p=this,i=we()===!0;(e.audio instanceof ie&&e.video||e.audio!==!0&&e.video!==!0&&e.audio!==e.video)&&(i=!1),i===!0?(p.audioRecorder=null,p.videoRecorder.startRecording()):p.videoRecorder.initRecorder(function(){p.audioRecorder.initRecorder(function(){p.videoRecorder.startRecording(),p.audioRecorder.startRecording()})})}e.gif&&(t=null,typeof e.gif=="function"&&(t=e.gif),this.gifRecorder=new n(r,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:s.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){this.getBlob(function(d){d.audio&&d.video?t(d.audio,function(u){t(d.video,function(p){e({audio:u,video:p})})}):d.audio?t(d.audio,function(u){e({audio:u})}):d.video&&t(d.video,function(u){e({video:u})})});function t(d,u){if(typeof Worker<"u"){var p=s(function(D){postMessage(new FileReaderSync().readAsDataURL(D))});p.onmessage=function(b){u(b.data)},p.postMessage(d)}else{var i=new FileReader;i.readAsDataURL(d),i.onload=function(b){u(b.target.result)}}}function s(d){var u=O.createObjectURL(new Blob([d.toString(),"this.onmessage =  function (eee) {"+d.name+"(eee.data);}"],{type:"application/javascript"})),p=new Worker(u),i;if(typeof O<"u")i=O;else if(typeof webkitURL<"u")i=webkitURL;else throw"Neither URL nor webkitURL detected.";return i.revokeObjectURL(u),p}},this.writeToDisk=function(){n.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){e=e||{audio:!0,video:!0,gif:!0},e.audio&&this.audioRecorder&&this.audioRecorder.save(typeof e.audio=="string"?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save(typeof e.video=="string"?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save(typeof e.gif=="string"?e.gif:"")}}N.getFromDisk=n.getFromDisk,N.writeToDisk=n.writeToDisk,typeof n<"u"&&(n.MRecordRTC=N);var I="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(r){r&&(typeof window<"u"||typeof z>"u"||(z.navigator={userAgent:I,getUserMedia:function(){}},z.console||(z.console={}),(typeof z.console.log>"u"||typeof z.console.error>"u")&&(z.console.error=z.console.log=z.console.log||function(){console.log(arguments)}),typeof document>"u"&&(r.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},r.HTMLVideoElement=function(){}),typeof location>"u"&&(r.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(r.screen={width:0,height:0}),typeof O>"u"&&(r.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),r.window=z))})(typeof z<"u"?z:null);var B=window.requestAnimationFrame;if(typeof B>"u"){if(typeof webkitRequestAnimationFrame<"u")B=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")B=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")B=msRequestAnimationFrame;else if(typeof B>"u"){var q=0;B=function(r,e){var t=new Date().getTime(),s=Math.max(0,16-(t-q)),d=setTimeout(function(){r(t+s)},s);return q=t+s,d}}}var U=window.cancelAnimationFrame;typeof U>"u"&&(typeof webkitCancelAnimationFrame<"u"?U=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?U=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?U=msCancelAnimationFrame:typeof U>"u"&&(U=function(r){clearTimeout(r)}));var H=window.AudioContext;typeof H>"u"&&(typeof webkitAudioContext<"u"&&(H=webkitAudioContext),typeof mozAudioContext<"u"&&(H=mozAudioContext));var O=window.URL;typeof O>"u"&&typeof webkitURL<"u"&&(O=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var Q=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),Y=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,se=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),me=!Y&&!Q&&!!navigator.webkitGetUserMedia||Ge()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,Re=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Re&&!me&&navigator.userAgent.indexOf("CriOS")!==-1&&(Re=!1,me=!0);var K=window.MediaStream;typeof K>"u"&&typeof webkitMediaStream<"u"&&(K=webkitMediaStream),typeof K<"u"&&typeof K.prototype.stop>"u"&&(K.prototype.stop=function(){this.getTracks().forEach(function(r){r.stop()})});function pe(r){var e=1e3,t=["Bytes","KB","MB","GB","TB"];if(r===0)return"0 Bytes";var s=parseInt(Math.floor(Math.log(r)/Math.log(e)),10);return(r/Math.pow(e,s)).toPrecision(3)+" "+t[s]}function it(r,e){if(!r)throw"Blob object is required.";if(!r.type)try{r.type="video/webm"}catch{}var t=(r.type||"video/webm").split("/")[1];if(t.indexOf(";")!==-1&&(t=t.split(";")[0]),e&&e.indexOf(".")!==-1){var s=e.split(".");e=s[0],t=s[1]}var d=(e||Math.round(Math.random()*9999999999)+888888888)+"."+t;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(r,d);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(r,d);var u=document.createElement("a");u.href=O.createObjectURL(r),u.download=d,u.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(u),typeof u.click=="function"?u.click():(u.target="_blank",u.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),O.revokeObjectURL(u.href)}function Ge(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function G(r,e){return!r||!r.getTracks?[]:r.getTracks().filter(function(t){return t.kind===(e||"audio")})}function He(r,e){"srcObject"in e?e.srcObject=r:"mozSrcObject"in e?e.mozSrcObject=r:e.srcObject=r}function Ue(r,e){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var t=new EBML.Reader,s=new EBML.Decoder,d=EBML.tools,u=new FileReader;u.onload=function(p){var i=s.decode(this.result);i.forEach(function(R){t.read(R)}),t.stop();var b=d.makeMetadataSeekable(t.metadatas,t.duration,t.cues),D=this.result.slice(t.metadataSize),h=new Blob([b,D],{type:"video/webm"});e(h)},u.readAsArrayBuffer(r)}typeof n<"u"&&(n.invokeSaveAsDialog=it,n.getTracks=G,n.getSeekableBlob=Ue,n.bytesToSize=pe,n.isElectron=Ge);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var X={};typeof H<"u"?X.AudioContext=H:typeof webkitAudioContext<"u"&&(X.AudioContext=webkitAudioContext),typeof n<"u"&&(n.Storage=X);function we(){if(se||Re||Q)return!0;var r=navigator.userAgent,e=""+parseFloat(navigator.appVersion),t=parseInt(navigator.appVersion,10),s,d;return(me||Y)&&(s=r.indexOf("Chrome"),e=r.substring(s+7)),(d=e.indexOf(";"))!==-1&&(e=e.substring(0,d)),(d=e.indexOf(" "))!==-1&&(e=e.substring(0,d)),t=parseInt(""+e,10),isNaN(t)&&(e=""+parseFloat(navigator.appVersion),t=parseInt(navigator.appVersion,10)),t>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function J(r,e){var h=this;if(typeof r>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(e=e||{mimeType:"video/webm"},e.type==="audio"){if(G(r,"video").length&&G(r,"audio").length){var t;navigator.mozGetUserMedia?(t=new K,t.addTrack(G(r,"audio")[0])):t=new K(G(r,"audio")),r=t}(!e.mimeType||e.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(e.mimeType=me?"audio/webm":"audio/ogg"),e.mimeType&&e.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(e.mimeType="audio/ogg")}var s=[];this.getArrayOfBlobs=function(){return s},this.record=function(){h.blob=null,h.clearRecordedData(),h.timestamps=[],D=[],s=[];var R=e;e.disableLogs||console.log("Passing following config over MediaRecorder API.",R),i&&(i=null),me&&!we()&&(R="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&R.mimeType&&(MediaRecorder.isTypeSupported(R.mimeType)||(e.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",R.mimeType),R.mimeType=e.type==="audio"?"audio/webm":"video/webm"));try{i=new MediaRecorder(r,R),e.mimeType=R.mimeType}catch{i=new MediaRecorder(r)}R.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in i&&i.canRecordMimeType(R.mimeType)===!1&&(e.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",R.mimeType)),i.ondataavailable=function(g){if(g.data&&D.push("ondataavailable: "+pe(g.data.size)),typeof e.timeSlice=="number"){if(g.data&&g.data.size&&(s.push(g.data),d(),typeof e.ondataavailable=="function")){var y=e.getNativeBlob?g.data:new Blob([g.data],{type:u(R)});e.ondataavailable(y)}return}if(!g.data||!g.data.size||g.data.size<100||h.blob){h.recordingCallback&&(h.recordingCallback(new Blob([],{type:u(R)})),h.recordingCallback=null);return}h.blob=e.getNativeBlob?g.data:new Blob([g.data],{type:u(R)}),h.recordingCallback&&(h.recordingCallback(h.blob),h.recordingCallback=null)},i.onstart=function(){D.push("started")},i.onpause=function(){D.push("paused")},i.onresume=function(){D.push("resumed")},i.onstop=function(){D.push("stopped")},i.onerror=function(g){g&&(g.name||(g.name="UnknownError"),D.push("error: "+g),e.disableLogs||(g.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",g):g.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",R.mimeType,") is not supported.",g):g.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",g):g.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",g):g.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",g):g.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",g):g.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",g):console.error("MediaRecorder Error",g)),function(y){if(!h.manuallyStopped&&i&&i.state==="inactive"){delete e.timeslice,i.start(10*60*1e3);return}setTimeout(y,1e3)}(),i.state!=="inactive"&&i.state!=="stopped"&&i.stop())},typeof e.timeSlice=="number"?(d(),i.start(e.timeSlice)):i.start(36e5),e.initCallback&&e.initCallback()},this.timestamps=[];function d(){h.timestamps.push(new Date().getTime()),typeof e.onTimeStamp=="function"&&e.onTimeStamp(h.timestamps[h.timestamps.length-1],h.timestamps)}function u(R){return i&&i.mimeType?i.mimeType:R.mimeType||"video/webm"}this.stop=function(R){R=R||function(){},h.manuallyStopped=!0,i&&(this.recordingCallback=R,i.state==="recording"&&i.stop(),typeof e.timeSlice=="number"&&setTimeout(function(){h.blob=new Blob(s,{type:u(e)}),h.recordingCallback(h.blob)},100))},this.pause=function(){i&&i.state==="recording"&&i.pause()},this.resume=function(){i&&i.state==="paused"&&i.resume()},this.clearRecordedData=function(){i&&i.state==="recording"&&h.stop(p),p()};function p(){s=[],i=null,h.timestamps=[]}var i;this.getInternalRecorder=function(){return i};function b(){if("active"in r){if(!r.active)return!1}else if("ended"in r&&r.ended)return!1;return!0}this.blob=null,this.getState=function(){return i&&i.state||"inactive"};var D=[];this.getAllStates=function(){return D},typeof e.checkForInactiveTracks>"u"&&(e.checkForInactiveTracks=!1);var h=this;(function R(){if(!(!i||e.checkForInactiveTracks===!1)){if(b()===!1){e.disableLogs||console.log("MediaStream seems stopped."),h.stop();return}setTimeout(R,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof n<"u"&&(n.MediaStreamRecorder=J);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function ie(r,e){if(!G(r,"audio").length)throw"Your stream has no audio tracks.";e=e||{};var t=this,s=[],d=[],u=!1,p=0,i,b=2,D=e.desiredSampRate;e.leftChannel===!0&&(b=1),e.numberOfAudioChannels===1&&(b=1),(!b||b<1)&&(b=2),e.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+b),typeof e.checkForInactiveTracks>"u"&&(e.checkForInactiveTracks=!0);function h(){if(e.checkForInactiveTracks===!1)return!0;if("active"in r){if(!r.active)return!1}else if("ended"in r&&r.ended)return!1;return!0}this.record=function(){if(h()===!1)throw"Please make sure MediaStream is active.";j(),l=x=!1,u=!0,typeof e.timeSlice<"u"&&V()};function R(L,w){function S(F,ve){var te=F.numberOfAudioChannels,Z=F.leftBuffers.slice(0),Ne=F.rightBuffers.slice(0),fe=F.sampleRate,De=F.internalInterleavedLength,ge=F.desiredSampRate;te===2&&(Z=at(Z,De),Ne=at(Ne,De),ge&&(Z=Oe(Z,ge,fe),Ne=Oe(Ne,ge,fe))),te===1&&(Z=at(Z,De),ge&&(Z=Oe(Z,ge,fe))),ge&&(fe=ge);function Oe($,ye,le){var ce=Math.round($.length*(ye/le)),re=[],Se=Number(($.length-1)/(ce-1));re[0]=$[0];for(var Ie=1;Ie<ce-1;Ie++){var dt=Ie*Se,pt=Number(Math.floor(dt)).toFixed(),At=Number(Math.ceil(dt)).toFixed(),Lt=dt-pt;re[Ie]=jt($[pt],$[At],Lt)}return re[ce-1]=$[$.length-1],re}function jt($,ye,le){return $+(ye-$)*le}function at($,ye){for(var le=new Float64Array(ye),ce=0,re=$.length,Se=0;Se<re;Se++){var Ie=$[Se];le.set(Ie,ce),ce+=Ie.length}return le}function Tt($,ye){for(var le=$.length+ye.length,ce=new Float64Array(le),re=0,Se=0;Se<le;)ce[Se++]=$[re],ce[Se++]=ye[re],re++;return ce}function $e($,ye,le){for(var ce=le.length,re=0;re<ce;re++)$.setUint8(ye+re,le.charCodeAt(re))}var Qe;te===2&&(Qe=Tt(Z,Ne)),te===1&&(Qe=Z);var Ye=Qe.length,Ut=44+Ye*2,st=new ArrayBuffer(Ut),ee=new DataView(st);$e(ee,0,"RIFF"),ee.setUint32(4,36+Ye*2,!0),$e(ee,8,"WAVE"),$e(ee,12,"fmt "),ee.setUint32(16,16,!0),ee.setUint16(20,1,!0),ee.setUint16(22,te,!0),ee.setUint32(24,fe,!0),ee.setUint32(28,fe*te*2,!0),ee.setUint16(32,te*2,!0),ee.setUint16(34,16,!0),$e(ee,36,"data"),ee.setUint32(40,Ye*2,!0);for(var _t=Ye,mt=44,It=1,ut=0;ut<_t;ut++)ee.setInt16(mt,Qe[ut]*(32767*It),!0),mt+=2;if(ve)return ve({buffer:st,view:ee});postMessage({buffer:st,view:ee})}if(L.noWorker){S(L,function(F){w(F.buffer,F.view)});return}var P=g(S);P.onmessage=function(F){w(F.data.buffer,F.data.view),O.revokeObjectURL(P.workerURL),P.terminate()},P.postMessage(L)}function g(L){var w=O.createObjectURL(new Blob([L.toString(),";this.onmessage =  function (eee) {"+L.name+"(eee.data);}"],{type:"application/javascript"})),S=new Worker(w);return S.workerURL=w,S}this.stop=function(L){L=L||function(){},u=!1,R({desiredSampRate:D,sampleRate:a,numberOfAudioChannels:b,internalInterleavedLength:p,leftBuffers:s,rightBuffers:b===1?[]:d,noWorker:e.noWorker},function(w,S){t.blob=new Blob([S],{type:"audio/wav"}),t.buffer=new ArrayBuffer(S.buffer.byteLength),t.view=S,t.sampleRate=D||a,t.bufferSize=A,t.length=p,l=!1,L&&L(t.blob)})},typeof n.Storage>"u"&&(n.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!n.Storage.AudioContextConstructor||n.Storage.AudioContextConstructor.state==="closed")&&(n.Storage.AudioContextConstructor=new n.Storage.AudioContext);var y=n.Storage.AudioContextConstructor,v=y.createMediaStreamSource(r),T=[0,256,512,1024,2048,4096,8192,16384],A=typeof e.bufferSize>"u"?4096:e.bufferSize;if(T.indexOf(A)===-1&&(e.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(T,null,"	"))),y.createJavaScriptNode)i=y.createJavaScriptNode(A,b,b);else if(y.createScriptProcessor)i=y.createScriptProcessor(A,b,b);else throw"WebAudio API has no support on this browser.";v.connect(i),e.bufferSize||(A=i.bufferSize);var a=typeof e.sampleRate<"u"?e.sampleRate:y.sampleRate||44100;(a<22050||a>96e3)&&(e.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),e.disableLogs||e.desiredSampRate&&console.log("Desired sample-rate: "+e.desiredSampRate);var x=!1;this.pause=function(){x=!0},this.resume=function(){if(h()===!1)throw"Please make sure MediaStream is active.";if(!u){e.disableLogs||console.log("Seems recording has been restarted."),this.record();return}x=!1},this.clearRecordedData=function(){e.checkForInactiveTracks=!1,u&&this.stop(o),o()};function j(){s=[],d=[],p=0,l=!1,u=!1,x=!1,y=null,t.leftchannel=s,t.rightchannel=d,t.numberOfAudioChannels=b,t.desiredSampRate=D,t.sampleRate=a,t.recordingLength=p,C={left:[],right:[],recordingLength:0}}function o(){i&&(i.onaudioprocess=null,i.disconnect(),i=null),v&&(v.disconnect(),v=null),j()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var l=!1;function k(L){if(!x){if(h()===!1&&(e.disableLogs||console.log("MediaStream seems stopped."),i.disconnect(),u=!1),!u){v&&(v.disconnect(),v=null);return}l||(l=!0,e.onAudioProcessStarted&&e.onAudioProcessStarted(),e.initCallback&&e.initCallback());var w=L.inputBuffer.getChannelData(0),S=new Float32Array(w);if(s.push(S),b===2){var P=L.inputBuffer.getChannelData(1),F=new Float32Array(P);d.push(F)}p+=A,t.recordingLength=p,typeof e.timeSlice<"u"&&(C.recordingLength+=A,C.left.push(S),b===2&&C.right.push(F))}}i.onaudioprocess=k,y.createMediaStreamDestination?i.connect(y.createMediaStreamDestination()):i.connect(y.destination),this.leftchannel=s,this.rightchannel=d,this.numberOfAudioChannels=b,this.desiredSampRate=D,this.sampleRate=a,t.recordingLength=p;var C={left:[],right:[],recordingLength:0};function V(){!u||typeof e.ondataavailable!="function"||typeof e.timeSlice>"u"||(C.left.length?(R({desiredSampRate:D,sampleRate:a,numberOfAudioChannels:b,internalInterleavedLength:C.recordingLength,leftBuffers:C.left,rightBuffers:b===1?[]:C.right},function(L,w){var S=new Blob([w],{type:"audio/wav"});e.ondataavailable(S),setTimeout(V,e.timeSlice)}),C={left:[],right:[],recordingLength:0}):setTimeout(V,e.timeSlice))}}typeof n<"u"&&(n.StereoAudioRecorder=ie);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function Me(r,e){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";e=e||{},e.frameInterval||(e.frameInterval=10);var t=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(T){T in document.createElement("canvas")&&(t=!0)});var s=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,d=50,u=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);s&&u&&u[2]&&(d=parseInt(u[2],10)),s&&d<52&&(t=!1),e.useWhammyRecorder&&(t=!1);var p,i;if(t)if(e.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),r instanceof HTMLCanvasElement)p=r;else if(r instanceof CanvasRenderingContext2D)p=r.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(e.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var b;this.record=function(){if(b=!0,t&&!e.useWhammyRecorder){var T;"captureStream"in p?T=p.captureStream(25):"mozCaptureStream"in p?T=p.mozCaptureStream(25):"webkitCaptureStream"in p&&(T=p.webkitCaptureStream(25));try{var A=new K;A.addTrack(G(T,"video")[0]),T=A}catch{}if(!T)throw"captureStream API are NOT available.";i=new J(T,{mimeType:e.mimeType||"video/webm"}),i.record()}else v.frames=[],y=new Date().getTime(),g();e.initCallback&&e.initCallback()},this.getWebPImages=function(T){if(r.nodeName.toLowerCase()!=="canvas"){T();return}var A=v.frames.length;v.frames.forEach(function(a,x){var j=A-x;e.disableLogs||console.log(j+"/"+A+" frames remaining"),e.onEncodingCallback&&e.onEncodingCallback(j,A);var o=a.image.toDataURL("image/webp",1);v.frames[x].image=o}),e.disableLogs||console.log("Generating WebM"),T()},this.stop=function(T){b=!1;var A=this;if(t&&i){i.stop(T);return}this.getWebPImages(function(){v.compile(function(a){e.disableLogs||console.log("Recording finished!"),A.blob=a,A.blob.forEach&&(A.blob=new Blob([],{type:"video/webm"})),T&&T(A.blob),v.frames=[]})})};var D=!1;this.pause=function(){if(D=!0,i instanceof J){i.pause();return}},this.resume=function(){if(D=!1,i instanceof J){i.resume();return}b||this.record()},this.clearRecordedData=function(){b&&this.stop(h),h()};function h(){v.frames=[],b=!1,D=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function R(){var T=document.createElement("canvas"),A=T.getContext("2d");return T.width=r.width,T.height=r.height,A.drawImage(r,0,0),T}function g(){if(D)return y=new Date().getTime(),setTimeout(g,500);if(r.nodeName.toLowerCase()==="canvas"){var T=new Date().getTime()-y;y=new Date().getTime(),v.frames.push({image:R(),duration:T}),b&&setTimeout(g,e.frameInterval);return}html2canvas(r,{grabMouse:typeof e.showMousePointer>"u"||e.showMousePointer,onrendered:function(A){var a=new Date().getTime()-y;if(!a)return setTimeout(g,e.frameInterval);y=new Date().getTime(),v.frames.push({image:A.toDataURL("image/webp",1),duration:a}),b&&setTimeout(g,e.frameInterval)}})}var y=new Date().getTime(),v=new Ve.Video(100)}typeof n<"u"&&(n.CanvasRecorder=Me);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function _e(r,e){e=e||{},e.frameInterval||(e.frameInterval=10),e.disableLogs||console.log("Using frames-interval:",e.frameInterval),this.record=function(){e.width||(e.width=320),e.height||(e.height=240),e.video||(e.video={width:e.width,height:e.height}),e.canvas||(e.canvas={width:e.width,height:e.height}),b.width=e.canvas.width||320,b.height=e.canvas.height||240,D=b.getContext("2d"),e.video&&e.video instanceof HTMLVideoElement?(h=e.video.cloneNode(),e.initCallback&&e.initCallback()):(h=document.createElement("video"),He(r,h),h.onloadedmetadata=function(){e.initCallback&&e.initCallback()},h.width=e.video.width,h.height=e.video.height),h.muted=!0,h.play(),R=new Date().getTime(),g=new Ve.Video,e.disableLogs||(console.log("canvas resolutions",b.width,"*",b.height),console.log("video width/height",h.width||b.width,"*",h.height||b.height)),t(e.frameInterval)};function t(y){y=typeof y<"u"?y:10;var v=new Date().getTime()-R;if(!v)return setTimeout(t,y,y);if(p)return R=new Date().getTime(),setTimeout(t,100);R=new Date().getTime(),h.paused&&h.play(),D.drawImage(h,0,0,b.width,b.height),g.frames.push({duration:v,image:b.toDataURL("image/webp")}),u||setTimeout(t,y,y)}function s(y){var v=-1,T=y.length;(function A(){if(v++,v===T){y.callback();return}setTimeout(function(){y.functionToLoop(A,v)},1)})()}function d(y,v,T,A,a){var x=document.createElement("canvas");x.width=b.width,x.height=b.height;var j=x.getContext("2d"),o=[],l=y.length,k={r:0,g:0,b:0},C=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),V=0,L=0,w=!1;s({length:l,functionToLoop:function(S,P){var F,ve,te,Z=function(){!w&&te-F<=te*L||(w=!0,o.push(y[P])),S()};if(w)Z();else{var Ne=new Image;Ne.onload=function(){j.drawImage(Ne,0,0,b.width,b.height);var fe=j.getImageData(0,0,b.width,b.height);F=0,ve=fe.data.length,te=fe.data.length/4;for(var De=0;De<ve;De+=4){var ge={r:fe.data[De],g:fe.data[De+1],b:fe.data[De+2]},Oe=Math.sqrt(Math.pow(ge.r-k.r,2)+Math.pow(ge.g-k.g,2)+Math.pow(ge.b-k.b,2));Oe<=C*V&&F++}Z()},Ne.src=y[P].image}},callback:function(){o=o.concat(y.slice(l)),o.length<=0&&o.push(y[y.length-1]),a(o)}})}var u=!1;this.stop=function(y){y=y||function(){},u=!0;var v=this;setTimeout(function(){d(g.frames,-1,null,null,function(T){g.frames=T,e.advertisement&&e.advertisement.length&&(g.frames=e.advertisement.concat(g.frames)),g.compile(function(A){v.blob=A,v.blob.forEach&&(v.blob=new Blob([],{type:"video/webm"})),y&&y(v.blob)})})},10)};var p=!1;this.pause=function(){p=!0},this.resume=function(){p=!1,u&&this.record()},this.clearRecordedData=function(){u||this.stop(i),i()};function i(){g.frames=[],u=!0,p=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var b=document.createElement("canvas"),D=b.getContext("2d"),h,R,g}typeof n<"u"&&(n.WhammyRecorder=_e);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var Ve=function(){function r(s){this.frames=[],this.duration=s||1,this.quality=.8}r.prototype.add=function(s,d){if("canvas"in s&&(s=s.canvas),"toDataURL"in s&&(s=s.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(s))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:s,duration:d||this.duration})};function e(s){var d=O.createObjectURL(new Blob([s.toString(),"this.onmessage =  function (eee) {"+s.name+"(eee.data);}"],{type:"application/javascript"})),u=new Worker(d);return O.revokeObjectURL(d),u}function t(s){function d(a){var x=p(a);if(!x)return[];for(var j=3e4,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:T(x.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:x.width,id:176},{data:x.height,id:186}]}]}]}]}],l=0,k=0;l<a.length;){var C=[],V=0;do C.push(a[l]),V+=a[l].duration,l++;while(l<a.length&&V<j);var L=0,w={id:524531317,data:u(k,L,C)};o[1].data.push(w),k+=V}return h(o)}function u(a,x,j){return[{data:a,id:231}].concat(j.map(function(o){var l=R({discardable:0,frame:o.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(x)});return x+=o.duration,{data:l,id:163}}))}function p(a){if(!a[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var x=a[0].width,j=a[0].height,o=a[0].duration,l=1;l<a.length;l++)o+=a[l].duration;return{duration:o,width:x,height:j}}function i(a){for(var x=[];a>0;)x.push(a&255),a=a>>8;return new Uint8Array(x.reverse())}function b(a){return new Uint8Array(a.split("").map(function(x){return x.charCodeAt(0)}))}function D(a){var x=[],j=a.length%8?new Array(9-a.length%8).join("0"):"";a=j+a;for(var o=0;o<a.length;o+=8)x.push(parseInt(a.substr(o,8),2));return new Uint8Array(x)}function h(a){for(var x=[],j=0;j<a.length;j++){var o=a[j].data;typeof o=="object"&&(o=h(o)),typeof o=="number"&&(o=D(o.toString(2))),typeof o=="string"&&(o=b(o));var l=o.size||o.byteLength||o.length,k=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),C=l.toString(2),V=new Array(k*7+7+1-C.length).join("0")+C,L=new Array(k).join("0")+"1"+V;x.push(i(a[j].id)),x.push(D(L)),x.push(o)}return new Blob(x,{type:"video/webm"})}function R(a){var x=0;if(x|=128,a.trackNum>127)throw"TrackNumber > 127 not supported";var j=[a.trackNum|128,a.timecode>>8,a.timecode&255,x].map(function(o){return String.fromCharCode(o)}).join("")+a.frame;return j}function g(a){for(var x=a.RIFF[0].WEBP[0],j=x.indexOf("*"),o=0,l=[];o<4;o++)l[o]=x.charCodeAt(j+3+o);var k,C,V;return V=l[1]<<8|l[0],k=V&16383,V=l[3]<<8|l[2],C=V&16383,{width:k,height:C,data:x,riff:a}}function y(a,x){return parseInt(a.substr(x+4,4).split("").map(function(j){var o=j.charCodeAt(0).toString(2);return new Array(8-o.length+1).join("0")+o}).join(""),2)}function v(a){for(var x=0,j={};x<a.length;){var o=a.substr(x,4),l=y(a,x),k=a.substr(x+4+4,l);x+=8+l,j[o]=j[o]||[],o==="RIFF"||o==="LIST"?j[o].push(v(k)):j[o].push(k)}return j}function T(a){return[].slice.call(new Uint8Array(new Float64Array([a]).buffer),0).map(function(x){return String.fromCharCode(x)}).reverse().join("")}var A=new d(s.map(function(a){var x=g(v(atob(a.image.slice(23))));return x.duration=a.duration,x}));postMessage(A)}return r.prototype.compile=function(s){var d=e(t);d.onmessage=function(u){if(u.data.error){console.error(u.data.error);return}s(u.data)},d.postMessage(this.frames)},{Video:r}}();typeof n<"u"&&(n.Whammy=Ve);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var ue={init:function(){var r=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var e=1,t=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),s,d=indexedDB.open(t,e);function u(i){i.createObjectStore(r.dataStoreName)}function p(){var i=s.transaction([r.dataStoreName],"readwrite");r.videoBlob&&i.objectStore(r.dataStoreName).put(r.videoBlob,"videoBlob"),r.gifBlob&&i.objectStore(r.dataStoreName).put(r.gifBlob,"gifBlob"),r.audioBlob&&i.objectStore(r.dataStoreName).put(r.audioBlob,"audioBlob");function b(D){i.objectStore(r.dataStoreName).get(D).onsuccess=function(h){r.callback&&r.callback(h.target.result,D)}}b("audioBlob"),b("videoBlob"),b("gifBlob")}d.onerror=r.onError,d.onsuccess=function(){if(s=d.result,s.onerror=r.onError,s.setVersion)if(s.version!==e){var i=s.setVersion(e);i.onsuccess=function(){u(s),p()}}else p();else p()},d.onupgradeneeded=function(i){u(i.target.result)}},Fetch:function(r){return this.callback=r,this.init(),this},Store:function(r){return this.audioBlob=r.audioBlob,this.videoBlob=r.videoBlob,this.gifBlob=r.gifBlob,this.init(),this},onError:function(r){console.error(JSON.stringify(r,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof n<"u"&&(n.DiskStorage=ue);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function he(r,e){if(typeof GIFEncoder>"u"){var t=document.createElement("script");t.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(t)}e=e||{};var s=r instanceof CanvasRenderingContext2D||r instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(y.record,1e3);return}if(!b){setTimeout(y.record,1e3);return}s||(e.width||(e.width=D.offsetWidth||320),e.height||(e.height=D.offsetHeight||240),e.video||(e.video={width:e.width,height:e.height}),e.canvas||(e.canvas={width:e.width,height:e.height}),p.width=e.canvas.width||320,p.height=e.canvas.height||240,D.width=e.video.width||320,D.height=e.video.height||240),g=new GIFEncoder,g.setRepeat(0),g.setDelay(e.frameRate||200),g.setQuality(e.quality||10),g.start(),typeof e.onGifRecordingStarted=="function"&&e.onGifRecordingStarted();function v(T){if(y.clearedRecordedData!==!0){if(d)return setTimeout(function(){v(T)},100);h=B(v),typeof R===void 0&&(R=T),!(T-R<90)&&(!s&&D.paused&&D.play(),s||i.drawImage(D,0,0,p.width,p.height),e.onGifPreview&&e.onGifPreview(p.toDataURL("image/png")),g.addFrame(i),R=T)}}h=B(v),e.initCallback&&e.initCallback()},this.stop=function(v){v=v||function(){},h&&U(h),this.blob=new Blob([new Uint8Array(g.stream().bin)],{type:"image/gif"}),v(this.blob),g.stream().bin=[]};var d=!1;this.pause=function(){d=!0},this.resume=function(){d=!1},this.clearRecordedData=function(){y.clearedRecordedData=!0,u()};function u(){g&&(g.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var p=document.createElement("canvas"),i=p.getContext("2d");s&&(r instanceof CanvasRenderingContext2D?(i=r,p=i.canvas):r instanceof HTMLCanvasElement&&(i=r.getContext("2d"),p=r));var b=!0;if(!s){var D=document.createElement("video");D.muted=!0,D.autoplay=!0,D.playsInline=!0,b=!1,D.onloadedmetadata=function(){b=!0},He(r,D),D.play()}var h=null,R,g,y=this}typeof n<"u"&&(n.GifRecorder=he);function ot(r,e){var t="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(o){typeof n<"u"||o&&(typeof window<"u"||typeof z>"u"||(z.navigator={userAgent:t,getUserMedia:function(){}},z.console||(z.console={}),(typeof z.console.log>"u"||typeof z.console.error>"u")&&(z.console.error=z.console.log=z.console.log||function(){console.log(arguments)}),typeof document>"u"&&(o.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var l={getContext:function(){return l},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return l},o.HTMLVideoElement=function(){}),typeof location>"u"&&(o.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(o.screen={width:0,height:0}),typeof D>"u"&&(o.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),o.window=z))})(typeof z<"u"?z:null),e=e||"multi-streams-mixer";var s=[],d=!1,u=document.createElement("canvas"),p=u.getContext("2d");u.style.opacity=0,u.style.position="absolute",u.style.zIndex=-1,u.style.top="-1000em",u.style.left="-1000em",u.className=e,(document.body||document.documentElement).appendChild(u),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var i=this,b=window.AudioContext;typeof b>"u"&&(typeof webkitAudioContext<"u"&&(b=webkitAudioContext),typeof mozAudioContext<"u"&&(b=mozAudioContext));var D=window.URL;typeof D>"u"&&typeof webkitURL<"u"&&(D=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var h=window.MediaStream;typeof h>"u"&&typeof webkitMediaStream<"u"&&(h=webkitMediaStream),typeof h<"u"&&typeof h.prototype.stop>"u"&&(h.prototype.stop=function(){this.getTracks().forEach(function(o){o.stop()})});var R={};typeof b<"u"?R.AudioContext=b:typeof webkitAudioContext<"u"&&(R.AudioContext=webkitAudioContext);function g(o,l){"srcObject"in l?l.srcObject=o:"mozSrcObject"in l?l.mozSrcObject=o:l.srcObject=o}this.startDrawingFrames=function(){y()};function y(){if(!d){var o=s.length,l=!1,k=[];if(s.forEach(function(V){V.stream||(V.stream={}),V.stream.fullcanvas?l=V:k.push(V)}),l)u.width=l.stream.width,u.height=l.stream.height;else if(k.length){u.width=o>1?k[0].width*2:k[0].width;var C=1;(o===3||o===4)&&(C=2),(o===5||o===6)&&(C=3),(o===7||o===8)&&(C=4),(o===9||o===10)&&(C=5),u.height=k[0].height*C}else u.width=i.width||360,u.height=i.height||240;l&&l instanceof HTMLVideoElement&&v(l),k.forEach(function(V,L){v(V,L)}),setTimeout(y,i.frameInterval)}}function v(o,l){if(!d){var k=0,C=0,V=o.width,L=o.height;l===1&&(k=o.width),l===2&&(C=o.height),l===3&&(k=o.width,C=o.height),l===4&&(C=o.height*2),l===5&&(k=o.width,C=o.height*2),l===6&&(C=o.height*3),l===7&&(k=o.width,C=o.height*3),typeof o.stream.left<"u"&&(k=o.stream.left),typeof o.stream.top<"u"&&(C=o.stream.top),typeof o.stream.width<"u"&&(V=o.stream.width),typeof o.stream.height<"u"&&(L=o.stream.height),p.drawImage(o,k,C,V,L),typeof o.stream.onRender=="function"&&o.stream.onRender(p,k,C,V,L,l)}}function T(){d=!1;var o=A(),l=a();return l&&l.getTracks().filter(function(k){return k.kind==="audio"}).forEach(function(k){o.addTrack(k)}),r.forEach(function(k){k.fullcanvas}),o}function A(){j();var o;"captureStream"in u?o=u.captureStream():"mozCaptureStream"in u?o=u.mozCaptureStream():i.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var l=new h;return o.getTracks().filter(function(k){return k.kind==="video"}).forEach(function(k){l.addTrack(k)}),u.stream=l,l}function a(){R.AudioContextConstructor||(R.AudioContextConstructor=new R.AudioContext),i.audioContext=R.AudioContextConstructor,i.audioSources=[],i.useGainNode===!0&&(i.gainNode=i.audioContext.createGain(),i.gainNode.connect(i.audioContext.destination),i.gainNode.gain.value=0);var o=0;if(r.forEach(function(l){if(l.getTracks().filter(function(C){return C.kind==="audio"}).length){o++;var k=i.audioContext.createMediaStreamSource(l);i.useGainNode===!0&&k.connect(i.gainNode),i.audioSources.push(k)}}),!!o)return i.audioDestination=i.audioContext.createMediaStreamDestination(),i.audioSources.forEach(function(l){l.connect(i.audioDestination)}),i.audioDestination.stream}function x(o){var l=document.createElement("video");return g(o,l),l.className=e,l.muted=!0,l.volume=0,l.width=o.width||i.width||360,l.height=o.height||i.height||240,l.play(),l}this.appendStreams=function(o){if(!o)throw"First parameter is required.";o instanceof Array||(o=[o]),o.forEach(function(l){var k=new h;if(l.getTracks().filter(function(L){return L.kind==="video"}).length){var C=x(l);C.stream=l,s.push(C),k.addTrack(l.getTracks().filter(function(L){return L.kind==="video"})[0])}if(l.getTracks().filter(function(L){return L.kind==="audio"}).length){var V=i.audioContext.createMediaStreamSource(l);i.audioDestination=i.audioContext.createMediaStreamDestination(),V.connect(i.audioDestination),k.addTrack(i.audioDestination.stream.getTracks().filter(function(L){return L.kind==="audio"})[0])}r.push(k)})},this.releaseStreams=function(){s=[],d=!0,i.gainNode&&(i.gainNode.disconnect(),i.gainNode=null),i.audioSources.length&&(i.audioSources.forEach(function(o){o.disconnect()}),i.audioSources=[]),i.audioDestination&&(i.audioDestination.disconnect(),i.audioDestination=null),i.audioContext&&i.audioContext.close(),i.audioContext=null,p.clearRect(0,0,u.width,u.height),u.stream&&(u.stream.stop(),u.stream=null)},this.resetVideoStreams=function(o){o&&!(o instanceof Array)&&(o=[o]),j(o)};function j(o){s=[],o=o||r,o.forEach(function(l){if(l.getTracks().filter(function(C){return C.kind==="video"}).length){var k=x(l);k.stream=l,s.push(k)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=T}typeof n>"u"&&(m.exports=ot);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Pe(r,e){r=r||[];var t=this,s,d;e=e||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},e.frameInterval||(e.frameInterval=10),e.video||(e.video={}),e.video.width||(e.video.width=360),e.video.height||(e.video.height=240),this.record=function(){s=new ot(r,e.elementClass||"multi-streams-mixer"),u().length&&(s.frameInterval=e.frameInterval||10,s.width=e.video.width||360,s.height=e.video.height||240,s.startDrawingFrames()),e.previewStream&&typeof e.previewStream=="function"&&e.previewStream(s.getMixedStream()),d=new J(s.getMixedStream(),e),d.record()};function u(){var p=[];return r.forEach(function(i){G(i,"video").forEach(function(b){p.push(b)})}),p}this.stop=function(p){d&&d.stop(function(i){t.blob=i,p(i),t.clearRecordedData()})},this.pause=function(){d&&d.pause()},this.resume=function(){d&&d.resume()},this.clearRecordedData=function(){d&&(d.clearRecordedData(),d=null),s&&(s.releaseStreams(),s=null)},this.addStreams=function(p){if(!p)throw"First parameter is required.";p instanceof Array||(p=[p]),r.concat(p),!(!d||!s)&&(s.appendStreams(p),e.previewStream&&typeof e.previewStream=="function"&&e.previewStream(s.getMixedStream()))},this.resetVideoStreams=function(p){s&&(p&&!(p instanceof Array)&&(p=[p]),s.resetVideoStreams(p))},this.getMixer=function(){return s},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof n<"u"&&(n.MultiStreamRecorder=Pe);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function ct(r,e){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof r>"u")throw'First argument "MediaStream" is required.';var t=this;t.recordRTC=new n(r,e),this.startRecording=function(){return new Promise(function(s,d){try{t.recordRTC.startRecording(),s()}catch(u){d(u)}})},this.stopRecording=function(){return new Promise(function(s,d){try{t.recordRTC.stopRecording(function(u){if(t.blob=t.recordRTC.getBlob(),!t.blob||!t.blob.size){d("Empty blob.",t.blob);return}s(u)})}catch(u){d(u)}})},this.pauseRecording=function(){return new Promise(function(s,d){try{t.recordRTC.pauseRecording(),s()}catch(u){d(u)}})},this.resumeRecording=function(){return new Promise(function(s,d){try{t.recordRTC.resumeRecording(),s()}catch(u){d(u)}})},this.getDataURL=function(s){return new Promise(function(d,u){try{t.recordRTC.getDataURL(function(p){d(p)})}catch(p){u(p)}})},this.getBlob=function(){return new Promise(function(s,d){try{s(t.recordRTC.getBlob())}catch(u){d(u)}})},this.getInternalRecorder=function(){return new Promise(function(s,d){try{s(t.recordRTC.getInternalRecorder())}catch(u){d(u)}})},this.reset=function(){return new Promise(function(s,d){try{s(t.recordRTC.reset())}catch(u){d(u)}})},this.destroy=function(){return new Promise(function(s,d){try{s(t.recordRTC.destroy())}catch(u){d(u)}})},this.getState=function(){return new Promise(function(s,d){try{s(t.recordRTC.getState())}catch(u){d(u)}})},this.blob=null,this.version="5.6.2"}typeof n<"u"&&(n.RecordRTCPromisesHandler=ct);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function ke(r,e){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),e=e||{},e.width=e.width||640,e.height=e.height||480,e.frameRate=e.frameRate||30,e.bitrate=e.bitrate||1200,e.realtime=e.realtime||!0;var t;function s(){return new ReadableStream({start:function(D){var h=document.createElement("canvas"),R=document.createElement("video"),g=!0;R.srcObject=r,R.muted=!0,R.height=e.height,R.width=e.width,R.volume=0,R.onplaying=function(){h.width=e.width,h.height=e.height;var y=h.getContext("2d"),v=1e3/e.frameRate,T=setInterval(function(){if(t&&(clearInterval(T),D.close()),g&&(g=!1,e.onVideoProcessStarted&&e.onVideoProcessStarted()),y.drawImage(R,0,0),D._controlledReadableStream.state!=="closed")try{D.enqueue(y.getImageData(0,0,e.width,e.height))}catch{}},v)},R.play()}})}var d;function u(D,h){if(!e.workerPath&&!h){t=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(g){g.arrayBuffer().then(function(y){u(D,y)})});return}if(!e.workerPath&&h instanceof ArrayBuffer){var R=new Blob([h],{type:"text/javascript"});e.workerPath=O.createObjectURL(R)}e.workerPath||console.error("workerPath parameter is missing."),d=new Worker(e.workerPath),d.postMessage(e.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),d.addEventListener("message",function(g){g.data==="READY"?(d.postMessage({width:e.width,height:e.height,bitrate:e.bitrate||1200,timebaseDen:e.frameRate||30,realtime:e.realtime}),s().pipeTo(new WritableStream({write:function(y){if(t){console.error("Got image, but recorder is finished!");return}d.postMessage(y.data.buffer,[y.data.buffer])}}))):g.data&&(p||b.push(g.data))})}this.record=function(){b=[],p=!1,this.blob=null,u(r),typeof e.initCallback=="function"&&e.initCallback()};var p;this.pause=function(){p=!0},this.resume=function(){p=!1};function i(D){if(!d){D&&D();return}d.addEventListener("message",function(h){h.data===null&&(d.terminate(),d=null,D&&D())}),d.postMessage(null)}var b=[];this.stop=function(D){t=!0;var h=this;i(function(){h.blob=new Blob(b,{type:"video/webm"}),D(h.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){b=[],p=!1,this.blob=null},this.blob=null}typeof n<"u"&&(n.WebAssemblyRecorder=ke)})(Ct);var br=Ct.exports;const wr=zt(br),yr=()=>{const m=["video/webm;codecs=vp9,opus","video/webm;codecs=vp8,opus","video/webm","video/mp4"];for(const n of m)if(MediaRecorder.isTypeSupported(n))return n;return"video/webm"},xr=yr(),Xe=Je(xe),Rr=({audioOn:m,questions:n,selectedDomain:c})=>{var C,V,L;const E=qt(),N=Rt(),[I]=_.useState(n),[B,q]=_.useState([]),[U,H]=_.useState(0),[O,Q]=_.useState(null),[Y,se]=_.useState(null),[me,Re]=_.useState(!1),K=_.useRef(!1),pe=_.useRef(new lr),[it,Ge]=_.useState([]),[G,He]=_.useState([]),Ue=_.useRef(null),[X,we]=_.useState("inactive"),J=_.useRef(null),[ie,Me]=_.useState(null),_e=_.useRef(!1),[Ve,ue]=_.useState(0),he=_.useRef(null),[ot,Pe]=_.useState("record"),[ct,ke]=_.useState(!1),[r,e]=_.useState(!1),[t,s]=_.useState(0),[d,u]=_.useState(0),[p,i]=_.useState(!1),[b,D]=_.useState(!1),[h,R]=_.useState({camera:!1,microphone:!1});_.useRef(!1),_.useRef(null),_.useRef(null);const g=_.useRef(!1);_.useEffect(()=>((async()=>{const S="https://unpkg.com/@ffmpeg/core@0.12.6/dist/esm",P=pe.current;try{await P.load({coreURL:await bt(`${S}/ffmpeg-core.js`,"text/javascript"),wasmURL:await bt(`${S}/ffmpeg-core.wasm`,"application/wasm")}),Re(!0)}catch(F){console.error("Error loading FFmpeg:",F),N({title:"Error",description:"Failed to load video processing library.",status:"error",duration:5e3,isClosable:!0})}})(),()=>{ie&&ie.getTracks().forEach(S=>S.stop())}),[ie,N]),_.useEffect(()=>{const w=()=>{document.visibilityState==="hidden"&&(s(S=>S+1),N({title:"Tab Switch Detected",description:"Switching tabs is not allowed during the interview.",status:"error",duration:3e3,isClosable:!0}))};return document.addEventListener("visibilitychange",w),()=>{document.removeEventListener("visibilitychange",w)}},[N]),_.useEffect(()=>{const w=()=>{u(S=>S+1),N({title:"Focus Lost",description:"Please return to the interview window.",status:"warning",duration:3e3,isClosable:!0})};return window.addEventListener("blur",w),()=>{window.removeEventListener("blur",w)}},[N]),_.useEffect(()=>{_e.current||(_e.current=!0,T())},[]);const y=(w,S)=>{const P=[];return w&&P.push(w),S&&P.push(S),new MediaStream(P)},v=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720,frameRate:{ideal:30}},audio:m?{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}:!1}),S=w.getVideoTracks()[0],P=m?w.getAudioTracks()[0]:null,F=y(S,P);return Me(F),J.current&&(J.current.srcObject=F),R({camera:!0,microphone:!!m}),F}catch(w){throw console.error("Error accessing media devices:",w),N({title:"Media Access Error",description:"Unable to access camera/microphone. Please check permissions.",status:"error",duration:5e3,isClosable:!0}),w}},T=async()=>{try{const[w,S]=await Promise.all([navigator.permissions.query({name:"camera"}),navigator.permissions.query({name:"microphone"})]);if(w.state==="denied"||S.state==="denied"){N({title:"Permission Required",description:"Please enable camera and microphone access in your browser settings.",status:"error",duration:5e3,isClosable:!0});return}await v()}catch(w){console.error("Error requesting permissions:",w),N({title:"Permission Error",description:"Failed to request media permissions.",status:"error",duration:5e3,isClosable:!0})}},A=async()=>{var w;if(((w=Ue.current)==null?void 0:w.state)==="recording"){console.log("Recording already in progress");return}try{let S=ie;if(S||(S=await v()),!S||!S.getTracks().length)throw new Error("No valid media stream available");const P=wr(S,{type:"video",mimeType:xr,videoBitsPerSecond:25e5,audioBitsPerSecond:m?128e3:void 0,frameInterval:20,quality:10,disableLogs:!1,timeSlice:1e3,ondataavailable:F=>{console.log("Data available:",F.size)},onStateChanged:F=>{console.log("Recorder state:",F)}});Ue.current=P,P.startRecording(),we("recording"),ue(0),he.current&&clearInterval(he.current),he.current=setInterval(()=>{ue(F=>F+1)},1e3)}catch(S){console.error("Error starting recording:",S),N({title:"Recording Error",description:`Failed to start recording: ${S.message}`,status:"error",duration:5e3,isClosable:!0})}};_.useEffect(()=>()=>{ie&&ie.getTracks().forEach(w=>w.stop()),he.current&&clearInterval(he.current)},[ie]);const a=()=>{Ue.current&&X==="recording"&&(Ue.current.stopRecording(()=>{try{const w=Ue.current.getBlob();if(!w)throw new Error("No video data available");const S=URL.createObjectURL(w);Q(w),se(S),He(P=>[...P,w]),x(w)}catch(w){console.error("Error stopping recording:",w),N({title:"Recording Error",description:"Failed to stop recording. Please try again.",status:"error",duration:5e3,isClosable:!0})}}),we("inactive"),clearInterval(he.current))},x=async w=>{if(!w){N({title:"No Video Recorded",description:"Please record a video before extracting audio.",status:"error",duration:3e3,isClosable:!0});return}try{const S=pe.current;await S.writeFile("input.webm",await vr(w)),await S.exec(["-i","input.webm","-vn","-acodec","libmp3lame","-q:a","2","output.mp3"]);const P=await S.readFile("output.mp3"),F=new Blob([P.buffer],{type:"audio/mp3"});Ge([F]),await j(F),await S.deleteFile("input.webm"),await S.deleteFile("output.mp3"),N({title:"Audio Extracted and Cleaned Up",description:"Audio extracted and memory cleared.",status:"success",duration:3e3,isClosable:!0})}catch(S){console.error("Error extracting audio:",S),N({title:"Extraction Error",description:"Failed to extract audio from the video.",status:"error",duration:5e3,isClosable:!0})}},j=async w=>{if(!w){N({title:"No Audio Extracted",description:"Please record and extract audio before submitting.",status:"error",duration:3e3,isClosable:!0});return}e(!0);const S=new FormData;S.append("audio_file",new File([w],"audio.mp3",{type:"audio/mp3"}));const P=5;let F=0;for(;F<P;)try{i(!0);const{data:ve}=await Ze.post(`${et.mlBaseUrl}/dgProcessAudio`,S,{headers:{"Content-Type":"multipart/form-data"}});if(ve!=null&&ve.result){q(te=>{const Z=[...te];return Z[U]=ve.result,Z}),N({title:"Transcription Completed",description:"Your response has been transcribed.",status:"success",duration:3e3,isClosable:!0}),ke(!0),Pe(U+1<I.length?"next":"finish");break}else throw new Error("Invalid transcription response")}catch{F++,F===P?N({title:"Transcription Error",description:"Failed to transcribe your response after multiple attempts.",status:"error",duration:5e3,isClosable:!0}):await new Promise(te=>setTimeout(te,1e3))}finally{i(!1)}e(!1)},o=async(w=!1)=>{try{const S=I[U];if(!S||!B[U])return;const P={ai_analysis_id:localStorage.getItem("ai_analysis_id"),questionIndex:U,fileData:[{question:S.questionText,transcription:B[U]}],domain:c,userId:localStorage.getItem("userId"),tabChangeCount:t.toString(),windowBlurCount:d.toString(),isFinal:w};if(!(await Ze.post(`${et.apiBaseUrl}/api/interviewee/addOrUpdateAiAnalysisWithId`,P)).data)throw new Error("Failed to save analysis data");N({title:"Analysis Saved",description:w?"Final analysis submitted successfully":"Question analysis saved",status:"success",duration:3e3,isClosable:!0})}catch(S){console.error("Error saving analysis:",S),N({title:"Error",description:"Failed to save analysis data",status:"error",duration:5e3,isClosable:!0})}},l=async()=>{await o(!1),Q(null),se(null),H(w=>w+1),Pe("record"),ke(!1),D(!1),K.current=!1,X==="recording"&&a()},k=async()=>{try{await o(!0),E("/analysis")}catch(w){console.error("Error submitting final answers:",w),N({title:"Submission Error",description:"Failed to submit final answers. Please try again.",status:"error",duration:5e3,isClosable:!0})}};return _.useEffect(()=>{K.current=!1},[U]),_.useEffect(()=>{var w;if((w=I[U])!=null&&w.questionText&&!K.current&&c&&X!=="recording"&&!g.current){const S=window.speechSynthesis;if(!S){console.error("Speech synthesis not supported in this browser"),A();return}const P=new SpeechSynthesisUtterance(I[U].questionText);g.current=!0,P.onend=()=>{g.current=!1,X!=="recording"&&A()},P.onerror=()=>{g.current=!1},m?S.speak(P):A(),K.current=!0}},[I,U,c,m,X]),_.useEffect(()=>{const w=window.speechSynthesis;w&&(m?w.resume():w.pause())},[m]),me?f.jsxDEV(Xe,{className:"w-full min-h-[calc(100vh-60px)] mt-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{backgroundColor:"blue.700"},children:c?f.jsxDEV(Xe,{className:"p-6 rounded-xl w-full max-w-4xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[f.jsxDEV(be,{justify:"space-between",align:"center",mb:4,children:[f.jsxDEV(ne,{fontSize:"2xl",fontWeight:"bold",children:[c," Interview"]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:830,columnNumber:13},void 0),f.jsxDEV(Be,{colorScheme:"red",onClick:()=>{ie&&ie.getTracks().forEach(w=>w.stop()),E("/")},children:"Exit Interview"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:833,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:829,columnNumber:11},void 0),f.jsxDEV(xe,{mb:4,children:[f.jsxDEV(ne,{fontSize:"xl",mb:2,children:((C=I[U])==null?void 0:C.questionText)||f.jsxDEV(Gt,{},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:847,columnNumber:55},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:846,columnNumber:13},void 0),f.jsxDEV(Et,{colorScheme:"purple",variant:"subtle",children:["Question ",U+1," of ",I.length]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:849,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:845,columnNumber:11},void 0),f.jsxDEV(be,{justify:"space-between",align:"center",mb:4,children:[f.jsxDEV(be,{gap:4,children:[f.jsxDEV(Be,{onClick:A,colorScheme:"green",isDisabled:U===0&&X==="recording"||U>0&&(!b||X==="recording"),children:"Start Recording"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:855,columnNumber:15},void 0),f.jsxDEV(Be,{onClick:a,colorScheme:"red",isDisabled:X!=="recording",children:"Stop Recording"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:865,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:854,columnNumber:13},void 0),f.jsxDEV(be,{align:"center",gap:2,children:X==="recording"&&f.jsxDEV(f.Fragment,{children:[f.jsxDEV(Ke,{size:"sm",color:"red.500"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:877,columnNumber:19},void 0),f.jsxDEV(ne,{color:"red.500",children:["Recording: ",Ve,"s"]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:878,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:876,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:874,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:853,columnNumber:11},void 0),X==="recording"&&f.jsxDEV(xe,{mb:4,children:f.jsxDEV(ne,{color:"red.500",children:"Recording in progress..."},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:886,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:885,columnNumber:13},void 0),Y&&f.jsxDEV(xe,{mb:4,children:[f.jsxDEV(ne,{fontSize:"lg",fontWeight:"semibold",mb:2,children:"Recorded Video"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:891,columnNumber:15},void 0),f.jsxDEV("video",{src:Y,controls:!0,className:"w-full max-w-xl rounded-md shadow-lg"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:894,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:890,columnNumber:13},void 0),r?f.jsxDEV(be,{justify:"center",align:"center",mt:4,children:[f.jsxDEV(Ke,{size:"lg",color:"teal.500"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:901,columnNumber:15},void 0),f.jsxDEV(ne,{mt:4,children:"Transcribing..."},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:902,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:900,columnNumber:13},void 0):((V=B[U])==null?void 0:V.length)>0&&f.jsxDEV(xe,{mb:4,children:[f.jsxDEV(ne,{fontSize:"lg",fontWeight:"semibold",mb:2,children:"Transcription"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:907,columnNumber:17},void 0),f.jsxDEV(xe,{maxH:"200px",overflowY:"auto",p:4,bg:"gray.50",borderRadius:"md",boxShadow:"sm",children:B[U].map((w,S)=>f.jsxDEV(xe,{mb:2,children:[f.jsxDEV(ne,{fontSize:"sm",color:"purple.600",children:["Start: ",w.Start,", End: ",w.End]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:913,columnNumber:23},void 0),f.jsxDEV(ne,{children:[f.jsxDEV("strong",{className:`text-purple-${(S+1)%2===0?"400":"500"}`,children:[S+1,"."]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:917,columnNumber:25},void 0)," ",w.Text]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:916,columnNumber:23},void 0)]},S,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:912,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:910,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:906,columnNumber:15},void 0),f.jsxDEV(be,{justify:"flex-end",mt:4,children:I.length===U+1?f.jsxDEV(Be,{colorScheme:"purple",onClick:k,children:"Submit Final Answers"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:930,columnNumber:15},void 0):((L=B[U])==null?void 0:L.length)>0?f.jsxDEV(Be,{colorScheme:"blue",onClick:l,children:"Next Question"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:934,columnNumber:15},void 0):null},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:928,columnNumber:11},void 0),f.jsxDEV(xe,{mt:6,children:[f.jsxDEV(ne,{fontSize:"lg",fontWeight:"semibold",mb:2,children:"Live Video Feed"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:942,columnNumber:13},void 0),f.jsxDEV(be,{justify:"center",children:f.jsxDEV("video",{ref:J,autoPlay:!0,muted:!0,className:"w-full max-w-full rounded-md shadow-lg",style:{height:"550px",border:"2px solid #E2E8F0"}},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:946,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:945,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:941,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:823,columnNumber:9},void 0):f.jsxDEV(Xe,{className:"flex flex-col items-center",initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:[f.jsxDEV(ne,{fontSize:"3xl",fontWeight:"bold",mb:8,color:"blue.700",children:"Select a Domain"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:757,columnNumber:11},void 0),f.jsxDEV(kt,{value:searchDomainValue,setValue:setSearchDomainValue,className:"max-w-md mb-8 px-4 py-2",borderRadius:"md",borderColor:"blue.700",placeholder:"Search domains...",_focus:{borderColor:"blue.700",boxShadow:"0 0 0 2px blue.300"}},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:760,columnNumber:11},void 0),f.jsxDEV(xt,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:8,maxW:"800px",width:"100%",children:filteredDomains.map((w,S)=>f.jsxDEV(lt,{children:f.jsxDEV(Xe,{whileHover:{scale:1.05,boxShadow:"lg"},whileTap:{scale:.95},transition:"0.3s ease",children:f.jsxDEV(Dt,{cursor:"pointer",onClick:()=>{h.camera&&h.microphone&&(setSelectedDomain(w.name),getCameraPermission())},_hover:{borderColor:"blue.700",borderWidth:"2px",backgroundColor:"blue.50",transition:"background-color 0.3s ease"},transition:"border-color 0.3s, background-color 0.3s ease",borderWidth:"1px",borderColor:"gray.300",borderRadius:"lg",overflow:"hidden",height:"100%",children:f.jsxDEV(Nt,{children:f.jsxDEV(be,{direction:"column",align:"start",children:[f.jsxDEV(ne,{fontSize:"xl",fontWeight:"semibold",mb:1,color:"blue.700",children:w.name},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:810,columnNumber:25},void 0),f.jsxDEV(ne,{color:"gray.600",children:w.description},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:813,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:809,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:808,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:787,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:782,columnNumber:17},void 0)},`domain-${S}`,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:781,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:769,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:751,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:743,columnNumber:5},void 0):f.jsxDEV(be,{justify:"center",align:"center",height:"100vh",children:f.jsxDEV(Ke,{size:"xl"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:737,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/Interview.jsx",lineNumber:736,columnNumber:7},void 0)},Nr=({audioOn:m,setAudioOn:n})=>f.jsxDEV("div",{className:"w-full flex items-center justify-between py-2 px-10",children:[f.jsxDEV(Ht,{to:"/",children:f.jsxDEV("img",{src:$t,alt:"Logo",className:"cursor-pointer w-48 h-auto"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:11,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:10,columnNumber:13},void 0),f.jsxDEV("div",{className:"flex items-center gap-4",children:f.jsxDEV("div",{onClick:()=>n(!m),className:"flex items-center justify-center cursor-pointer rounded-full h-10 w-10 transition-all hover:bg-gray-200",children:m?f.jsxDEV(rr,{},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:21,columnNumber:25},void 0):f.jsxDEV(nr,{},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:22,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:16,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:15,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/common/Navbar.jsx",lineNumber:9,columnNumber:9},void 0),wt=Je(xe),Dr=({onDomainSelect:m,loading:n})=>{const[c,E]=_.useState(""),[N]=_.useState([{name:"finance",description:"Finance Engineer"},{name:"SAP",description:"SAP Developer"}]),I=_.useMemo(()=>N.filter(B=>B.name.toLowerCase().includes(c.toLowerCase())),[N,c]);return f.jsxDEV(wt,{className:"flex flex-col items-center",initial:{scale:.8},animate:{scale:1},transition:{duration:.5},px:{base:4,md:6},pb:{base:20,md:24},pt:{base:4,md:6},minH:"100vh",w:"100%",children:f.jsxDEV(xe,{w:"100%",maxW:"1200px",mx:"auto",flex:"1",display:"flex",flexDirection:"column",alignItems:"center",children:[f.jsxDEV(kt,{value:c,onChange:E,placeholder:"Search domains...",mb:6,maxW:{base:"100%",md:"400px"}},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:51,columnNumber:11},void 0),f.jsxDEV(xt,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:{base:4,md:6,lg:8},width:"100%",flex:"1",alignContent:"start",children:Array.isArray(I)&&I.map((B,q)=>f.jsxDEV(lt,{children:f.jsxDEV(wt,{whileHover:{scale:1.05,boxShadow:"lg"},whileTap:{scale:.95},transition:"0.3s ease",children:f.jsxDEV(Dt,{cursor:n?"not-allowed":"pointer",onClick:()=>!n&&m(B),opacity:n?.7:1,height:"100%",children:f.jsxDEV(Nt,{children:f.jsxDEV(be,{direction:"column",align:"start",height:"100%",children:[f.jsxDEV(ne,{fontSize:{base:"lg",md:"xl"},fontWeight:"semibold",mb:1,color:"blue.700",children:B.name},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:90,columnNumber:25},void 0),f.jsxDEV(ne,{color:"gray.600",fontSize:{base:"sm",md:"md"},children:B.description},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:98,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:85,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:84,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:78,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:73,columnNumber:17},void 0)},`domain-${q}`,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:72,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:59,columnNumber:11},void 0),n&&f.jsxDEV(be,{justify:"center",mt:4,children:f.jsxDEV(Ke,{size:"xl",color:"blue.500"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:114,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:42,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/components/ai-interview/DomainSelector.jsx",lineNumber:31,columnNumber:7},void 0)},Ur=()=>{const[m,n]=_.useState(!1),[c,E]=_.useState(!0),[N,I]=_.useState([]),[B,q]=_.useState(""),[U,H]=_.useState(!1),O=Rt(),Q=async Y=>{try{H(!0);const se=localStorage.getItem("inter"),Re=(await Ze.post(`${et.apiBaseUrl}/api/interviewee/create-ai-analysis`,{domain:Y.name,userId:se})).data.ai_analysis_id;localStorage.setItem("ai_analysis_id",Re);const K=encodeURIComponent(Y.name),pe=await Ze.post(`${et.apiBaseUrl}/api/interviewee/getAIQuestionByDomain`,{ai_analysis_id:Re,domain:Y.name});pe.data&&Array.isArray(pe.data)&&pe.data.length>0?(I(pe.data),q(Y.name),localStorage.setItem("selectedDomain",Y.name),n(!0)):(I([]),O({title:"No Questions",description:"No questions found for the selected domain.",status:"info",duration:3e3,isClosable:!0}))}catch(se){console.error("Error in interview setup:",se),O({title:"Error",description:"Failed to initialize interview. Please try again.",status:"error",duration:5e3,isClosable:!0})}finally{H(!1)}};return f.jsxDEV("div",{className:"w-full",children:[f.jsxDEV(Nr,{audioOn:c,setAudioOn:E},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:76,columnNumber:7},void 0),f.jsxDEV("div",{className:"w-full px-6",children:f.jsxDEV(Qt,{children:m&&N.length>0?f.jsxDEV(Rr,{audioOn:c,questions:N,selectedDomain:B},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:80,columnNumber:13},void 0):f.jsxDEV(f.Fragment,{children:m?f.jsxDEV(Dr,{onDomainSelect:Q,loading:U},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:145,columnNumber:17},void 0):f.jsxDEV(f.Fragment,{children:[f.jsxDEV("div",{className:"w-full flex flex-col md:flex-row gap-10 items-center justify-between px-4 md:px-10",children:[f.jsxDEV(Je.div,{exit:{opacity:0,x:100},transition:{duration:2},className:"w-full",children:f.jsxDEV("div",{className:"flex flex-col justify-center min-h-[60vh] md:min-h-screen",children:[f.jsxDEV(Je.h1,{animate:{y:[50,0],opacity:[0,1]},transition:{duration:1},className:"text-3xl md:text-5xl font-semibold max-w-[600px] md:leading-[55px]",children:["The"," ",f.jsxDEV("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-blue-300",children:"AI-Powered"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:102,columnNumber:27},void 0)," ","Platform for"," ",f.jsxDEV("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-500",children:"Online Interviews"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:106,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:96,columnNumber:25},void 0),f.jsxDEV("p",{className:"max-w-[600px] text-lg mt-6 leading-6",children:"Transform the way you take interviews with Fintervue. Leverage the power of artificial intelligence ensuring unprecedented accuracy and control."},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:110,columnNumber:25},void 0),f.jsxDEV(Be,{onClick:()=>n(!0),mt:10,w:150,rounded:"full",px:8,color:"#fff",bg:"#000",_hover:{bg:"#3c3c3c"},className:"mt-6",children:"Start Interview"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:115,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:95,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:90,columnNumber:21},void 0),f.jsxDEV("img",{src:Yt,className:"max-w-[500px] w-full my-10 md:my-20",alt:"Interview Mockup"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:89,columnNumber:19},void 0),f.jsxDEV("div",{className:"flex flex-col items-center text-center",children:[f.jsxDEV(er,{color:"#a6a6a6"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:137,columnNumber:21},void 0),f.jsxDEV("h3",{className:"text-2xl font-semibold mt-8",children:"How it works"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:138,columnNumber:21},void 0),f.jsxDEV("div",{className:"max-w-[800px] w-full mt-8 mb-10",children:f.jsxDEV("video",{src:sr,controls:!0,className:"w-full"},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:140,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:139,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:136,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:88,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:86,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:78,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:77,columnNumber:7},void 0),f.jsxDEV(Xt,{},void 0,!1,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:154,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/yashgupta/Desktop/frontend-fintervue/Fintervue_front_new/src/pages/AiIntervuePage.jsx",lineNumber:75,columnNumber:5},void 0)};export{Ur as default};
